(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{262:function(e,t,r){"use strict";r.r(t);var o=r(0),i=r.n(o),a=r(326),n=r.n(a),s=r(475),d=r(300),u=(r(3),r(4),r(8),r(82),r(44),r(1),r(2),r(322),r(398));var p={alpha:3,nBodyStrength:-1200,nBodyDistanceMin:100,nBodyDistanceMax:1400};var c=function(e){var t,r;function o(t){var r;return(r=e.call(this,t)||this)._strength=function(e){if(e.isVirtual)return 1/e.edgeCount;var t=r._graph.getDegree(e.source.id),o=r._graph.getDegree(e.target.id);return 1/Math.min(t,o)},r.getNodePosition=function(e){var t=r._nodeMap[e.id];return t?[t.x,t.y]:[0,0]},r.getEdgePosition=function(e){var t=r._edgeMap[e.id];if(t){if(!t.isVirtual)return{type:d.d.LINE,sourcePosition:[t.source.x,t.source.y],targetPosition:[t.target.x,t.target.y],controlPoints:[]};var o=r._edgeMap[t.virtualEdgeId],i=o.edgeCount,a=[o.source.x,o.source.y],n=[o.target.x,o.target.y],s=Math.hypot(a[0]-n[0],a[1]-n[1]),u=t.index,p=i%2==0,c=function(e,t,r,o){var i=[(e[0]+t[0])/2,(e[1]+t[1])/2],a=t[0]-e[0],n=[t[1]-e[1],-a],s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)),d=[n[0]/s,n[1]/s];return[i[0]+d[0]*o*r,i[1]+d[1]*o*r]}(a,n,u%2?1:-1,Math.max(s/10,5)*(p?Math.floor(u/2+1):Math.ceil(u/2)));return{type:d.d.SPLINE_CURVE,sourcePosition:a,targetPosition:n,controlPoints:[c]}}return{type:d.d.LINE,sourcePosition:[0,0],targetPosition:[0,0],controlPoints:[]}},r.lockNodePosition=function(e,t,o){var i=r._nodeMap[e.id];i.x=t,i.y=o,r._callbacks.onLayoutChange(),r._callbacks.onLayoutDone()},r._name="ForceMultiGraphLayout",r._options=Object.assign({},p,{},t),r._d3Graph={nodes:[],edges:[]},r._nodeMap={},r._edgeMap={},r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=o.prototype;return i.initializeGraph=function(e){this.updateGraph(e)},i._generateSimulator=function(){this._simulator&&(this._simulator.on("tick",null).on("end",null),this._simulator=null);var e=this._options,t=e.alpha,r=e.nBodyStrength,o=e.nBodyDistanceMin,i=e.nBodyDistanceMax,a=this._d3Graph;this._simulator=u.e(a.nodes).force("edge",u.c(a.edges).id(function(e){return e.id}).strength(this._strength)).force("charge",u.d().strength(r).distanceMin(o).distanceMax(i)).force("center",u.a()).alpha(t),this._simulator.on("tick",this._callbacks.onLayoutChange).on("end",this._callbacks.onLayoutDone)},i.start=function(){this._generateSimulator(),this._simulator.restart()},i.resume=function(){this._simulator.restart()},i.stop=function(){this._simulator.stop()},i.updateGraph=function(e){var t=this;this._graph=e;var r={},o=e.getNodes().map(function(e){var o=t._nodeMap[e.id],i=o||{id:e.id};return r[e.id]=i,i}),i=e.getEdges().reduce(function(e,t){var r=[t.getSourceNodeId(),t.getTargetNodeId()].sort().toString();return e[r]?e[r].push(t):e[r]=[t],e},{}),a=[],n={};Object.keys(i).forEach(function(e){var t=i[e],o=t[0];if(1===t.length){var s={type:d.d.LINE,id:o.getId(),source:r[o.getSourceNodeId()],target:r[o.getTargetNodeId()],isVirtual:!1};return n[o.getId()]=s,void a.push(s)}var u={type:d.d.LINE,id:e,source:r[o.getSourceNodeId()],target:r[o.getTargetNodeId()],isVirtual:!0,edgeCount:t.length};n[e]=u,a.push(u),t.forEach(function(t,o){n[t.id]={type:d.d.SPLINE_CURVE,id:t.id,source:r[t.getSourceNodeId()],target:r[t.getTargetNodeId()],virtualEdgeId:e,isVirtual:!0,index:o}})}),this._nodeMap=r,this._d3Graph.nodes=o,this._edgeMap=n,this._d3Graph.edges=a},o}(d.a);r.d(t,"default",function(){return g});var g=function(e){var t,r;function o(){return e.apply(this,arguments)||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return i.a.createElement(d.p,{graph:Object(d.i)({json:s}),layout:new c({nBodyStrength:-8e3}),nodeStyle:[this.props.showNodePlaceholder&&{type:d.k.CIRCLE,radius:40,fill:"rgb(240, 240, 240)"},this.props.showNodeCircle&&{type:d.k.CIRCLE,radius:30,fill:this.props.nodeColor},{type:d.k.CIRCLE,radius:function(e){return e.getPropertyValue("star")?6:0},fill:[255,255,0],offset:[18,-18]},this.props.showNodeLabel&&{type:d.k.LABEL,text:function(e){return e.getId()},color:n()(this.props.nodeLabelColor).array(),fontSize:this.props.nodeLabelSize}],edgeStyle:{stroke:this.props.edgeColor,strokeWidth:this.props.edgeWidth,decorators:[this.props.showEdgeLabel&&{type:d.c.LABEL,text:function(e){return e.getPropertyValue("type")},color:n()(this.props.edgeLabelColor).array(),fontSize:this.props.edgeLabelSize}]}})},o}(o.Component);g.defaultProps={showNodePlaceholder:!0,showNodeCircle:!0,nodeColor:"#cf4569",showNodeLabel:!0,nodeLabelColor:"#ffffff",nodeLabelSize:14,edgeColor:"#cf4569",edgeWidth:2,showEdgeLabel:!0,edgeLabelColor:"#000000",edgeLabelSize:14}},322:function(e,t,r){var o=r(14),i=Math.abs;o(o.S,"Math",{hypot:function(e,t){for(var r,o,a=0,n=0,s=arguments.length,d=0;n<s;)d<(r=i(arguments[n++]))?(a=a*(o=d/r)*o+1,d=r):a+=r>0?(o=r/d)*o:r;return d===1/0?1/0:d*Math.sqrt(a)}})},475:function(e){e.exports={nodes:[{id:"Alan",type:"user",star:!0},{id:"Bob",type:"user",star:!1},{id:"Cathy",type:"user",star:!0},{id:"Denise",type:"user",star:!1},{id:"Edward",type:"user",star:!0},{id:"Frank",type:"user",star:!1},{id:"George",type:"user",star:!1}],edges:[{id:"0",sourceId:"Alan",targetId:"Bob",type:"is_friend"},{id:"1",sourceId:"Alan",targetId:"Bob",type:"is_neighbor"},{id:"2",sourceId:"Bob",targetId:"Cathy",type:"is_neighbor"},{id:"3",sourceId:"Cathy",targetId:"Frank",type:"is_neighbor"},{id:"4",sourceId:"Edward",targetId:"Denise",type:"is_friend"},{id:"5",sourceId:"Edward",targetId:"Frank",type:"is_friend"},{id:"6",sourceId:"Alan",targetId:"Denise",type:"is_classmate"},{id:"7",sourceId:"Bob",targetId:"Denise",type:"is_classmate"},{id:"8",sourceId:"Edward",targetId:"Cathy",type:"is_classmate"},{id:"9",sourceId:"Edward",targetId:"Cathy",type:"is_friend"},{id:"10",sourceId:"George",targetId:"Denise",type:"is_friend"},{id:"11",sourceId:"George",targetId:"Edward",type:"is_friend"},{id:"12",sourceId:"Denise",targetId:"Edward",type:"is_neighbor"},{id:"13",sourceId:"Bob",targetId:"Cathy",type:"is_friend"}]}}}]);
//# sourceMappingURL=component---stories-multi-graph-layout-app-js-f8c98b544396d5179e20.js.map